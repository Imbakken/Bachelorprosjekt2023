import{S as st,i as lt,s as rt,e as qe,b as Y,g as ye,d as Le,f as at,h as o,I as ot,o as nt,k as n,q as L,a as I,y as it,l as i,m as d,r as A,c as B,z as ct,n as c,G as t,K as de,A as ut,L as te,O as dt,P as ft,B as ht,M as tt,u as ge,H as vt,v as pt,w as ze,R as Ge}from"../chunks/index.317fa1c7.js";import{o as _t,h as mt,f as Xe,n as Se,e as Ze,z as kt,d as Ee,a as We,i as bt,Z as Ye,b as gt,X as Et,Y as yt}from"../chunks/store.a7ae9623.js";import{T as we}from"../chunks/toastify.6915724a.js";import{F as Tt}from"../chunks/Footer.81ec45b0.js";function Je(a,l,e){const s=a.slice();return s[5]=l[e],s}function Ke(a){let l,e,s,r,u,_,y,T,j,b,g,U,v,S,J,q,R,G,K,C,N,X,h,p,Z,m,k,w,x,D,ne,z,W,ie,se,F,ce,le,Q,ee,re,he,Te,De,ae,fe,Ie,Ae,ue=a[0],V=[];for(let f=0;f<ue.length;f+=1)V[f]=$e(Je(a,ue,f));let O=a[3]&&xe();function Ce(f,H){return f[2]?Dt:It}let ve=Ce(a),$=ve(a),P=a[2]&&et(a);return ae=new Tt({}),{c(){l=n("div"),e=n("div"),s=n("div"),r=n("h1"),u=L("Beskjeder"),_=I(),y=n("button"),T=n("p"),j=L("Legg til en ny beskjed"),b=I(),g=n("div");for(let f=0;f<V.length;f+=1)V[f].c();U=I(),v=n("form"),S=n("h2"),J=L("Legg til en ny beskjed"),q=I(),R=n("p"),G=L("Beskjeden blir liggende ute i 2 uker."),K=I(),C=n("div"),N=n("label"),X=L("Tittel"),h=I(),p=n("input"),Z=I(),m=n("div"),k=n("label"),w=L("Beskjed"),x=I(),D=n("textarea"),ne=I(),z=n("div"),W=n("label"),ie=L("Skrevet av"),se=I(),F=n("input"),ce=I(),O&&O.c(),le=I(),Q=n("div"),ee=n("button"),re=n("span"),$.c(),Te=I(),P&&P.c(),De=I(),it(ae.$$.fragment),this.h()},l(f){l=i(f,"DIV",{class:!0});var H=d(l);e=i(H,"DIV",{class:!0});var E=d(e);s=i(E,"DIV",{class:!0});var oe=d(s);r=i(oe,"H1",{});var Ve=d(r);u=A(Ve,"Beskjeder"),Ve.forEach(o),_=B(oe),y=i(oe,"BUTTON",{class:!0});var je=d(y);T=i(je,"P",{});var Pe=d(T);j=A(Pe,"Legg til en ny beskjed"),Pe.forEach(o),je.forEach(o),oe.forEach(o),b=B(E),g=i(E,"DIV",{class:!0});var pe=d(g);for(let Be=0;Be<V.length;Be+=1)V[Be].l(pe);U=B(pe),v=i(pe,"FORM",{id:!0,class:!0});var M=d(v);S=i(M,"H2",{class:!0});var Ne=d(S);J=A(Ne,"Legg til en ny beskjed"),Ne.forEach(o),q=B(M),R=i(M,"P",{});var Oe=d(R);G=A(Oe,"Beskjeden blir liggende ute i 2 uker."),Oe.forEach(o),K=B(M),C=i(M,"DIV",{class:!0});var _e=d(C);N=i(_e,"LABEL",{for:!0,class:!0});var Ue=d(N);X=A(Ue,"Tittel"),Ue.forEach(o),h=B(_e),p=i(_e,"INPUT",{type:!0,placeholder:!0,class:!0}),_e.forEach(o),Z=B(M),m=i(M,"DIV",{class:!0});var me=d(m);k=i(me,"LABEL",{for:!0,class:!0});var Fe=d(k);w=A(Fe,"Beskjed"),Fe.forEach(o),x=B(me),D=i(me,"TEXTAREA",{rows:!0,placeholder:!0,class:!0}),d(D).forEach(o),me.forEach(o),ne=B(M),z=i(M,"DIV",{class:!0});var ke=d(z);W=i(ke,"LABEL",{for:!0,class:!0});var Me=d(W);ie=A(Me,"Skrevet av"),Me.forEach(o),se=B(ke),F=i(ke,"INPUT",{type:!0,placeholder:!0,class:!0}),ke.forEach(o),ce=B(M),O&&O.l(M),le=B(M),Q=i(M,"DIV",{class:!0});var be=d(Q);ee=i(be,"BUTTON",{class:!0});var Re=d(ee);re=i(Re,"SPAN",{class:!0});var He=d(re);$.l(He),He.forEach(o),Re.forEach(o),Te=B(be),P&&P.l(be),be.forEach(o),M.forEach(o),pe.forEach(o),De=B(E),ct(ae.$$.fragment,E),E.forEach(o),H.forEach(o),this.h()},h(){c(y,"class","svelte-9t2krk"),c(s,"class","mainContainerHeader svelte-9t2krk"),c(S,"class","svelte-9t2krk"),c(N,"for","title"),c(N,"class","titleLabel svelte-9t2krk"),c(p,"type","text"),c(p,"placeholder","Tittel"),c(p,"class","form-control svelte-9t2krk"),c(C,"class","titleContainer"),c(k,"for","description"),c(k,"class","descriptionLabel svelte-9t2krk"),c(D,"rows","3"),c(D,"placeholder","Skriv din beskjed her"),c(D,"class","form-control svelte-9t2krk"),c(m,"class","descriptionContainer"),c(W,"for","author"),c(W,"class","authorLabel svelte-9t2krk"),c(F,"type","text"),c(F,"placeholder","Skrevet av"),c(F,"class","form-control svelte-9t2krk"),c(z,"class","authorContainer"),c(re,"class","ms-2"),c(ee,"class","saveButton svelte-9t2krk"),ee.disabled=he=!a[5].title,c(Q,"class","buttonContainer svelte-9t2krk"),c(v,"id","mainForm"),c(v,"class","mainContainerForm svelte-9t2krk"),c(g,"class","mainContainerContent svelte-9t2krk"),c(e,"class","mainContainerRectangle svelte-9t2krk"),c(l,"class","mainContainer svelte-9t2krk")},m(f,H){Y(f,l,H),t(l,e),t(e,s),t(s,r),t(r,u),t(s,_),t(s,y),t(y,T),t(T,j),t(e,b),t(e,g);for(let E=0;E<V.length;E+=1)V[E]&&V[E].m(g,null);t(g,U),t(g,v),t(v,S),t(S,J),t(v,q),t(v,R),t(R,G),t(v,K),t(v,C),t(C,N),t(N,X),t(C,h),t(C,p),de(p,a[5].title),a[13](p),t(v,Z),t(v,m),t(m,k),t(k,w),t(m,x),t(m,D),de(D,a[5].description),t(v,ne),t(v,z),t(z,W),t(W,ie),t(z,se),t(z,F),de(F,a[5].author),a[16](F),t(v,ce),O&&O.m(v,null),t(v,le),t(v,Q),t(Q,ee),t(ee,re),$.m(re,null),t(Q,Te),P&&P.m(Q,null),t(e,De),ut(ae,e,null),fe=!0,Ie||(Ae=[te(y,"click",a[11]),te(p,"input",a[12]),te(D,"input",a[14]),te(F,"input",a[15]),te(v,"submit",dt(a[9]))],Ie=!0)},p(f,H){if(H&449){ue=f[0];let E;for(E=0;E<ue.length;E+=1){const oe=Je(f,ue,E);V[E]?V[E].p(oe,H):(V[E]=$e(oe),V[E].c(),V[E].m(g,U))}for(;E<V.length;E+=1)V[E].d(1);V.length=ue.length}H&32&&p.value!==f[5].title&&de(p,f[5].title),H&32&&de(D,f[5].description),H&32&&F.value!==f[5].author&&de(F,f[5].author),f[3]?O||(O=xe(),O.c(),O.m(v,le)):O&&(O.d(1),O=null),ve!==(ve=Ce(f))&&($.d(1),$=ve(f),$&&($.c(),$.m(re,null))),(!fe||H&32&&he!==(he=!f[5].title))&&(ee.disabled=he),f[2]?P?P.p(f,H):(P=et(f),P.c(),P.m(Q,null)):P&&(P.d(1),P=null)},i(f){fe||(ye(ae.$$.fragment,f),fe=!0)},o(f){Le(ae.$$.fragment,f),fe=!1},d(f){f&&o(l),ft(V,f),a[13](null),a[16](null),O&&O.d(),$.d(),P&&P.d(),ht(ae),Ie=!1,tt(Ae)}}}function Qe(a){let l,e,s,r,u,_,y,T,j;return{c(){l=n("button"),e=n("p"),s=L("Endre"),r=I(),u=n("button"),_=n("p"),y=L("Slett"),this.h()},l(b){l=i(b,"BUTTON",{class:!0});var g=d(l);e=i(g,"P",{});var U=d(e);s=A(U,"Endre"),U.forEach(o),g.forEach(o),r=B(b),u=i(b,"BUTTON",{class:!0});var v=d(u);_=i(v,"P",{});var S=d(_);y=A(S,"Slett"),S.forEach(o),v.forEach(o),this.h()},h(){c(l,"class","svelte-9t2krk"),c(u,"class","svelte-9t2krk")},m(b,g){Y(b,l,g),t(l,e),t(e,s),Y(b,r,g),Y(b,u,g),t(u,_),t(_,y),T||(j=[te(l,"click",function(){Ge(a[7](a[5]))&&a[7](a[5]).apply(this,arguments)}),te(u,"click",function(){Ge(a[8](a[5].id))&&a[8](a[5].id).apply(this,arguments)})],T=!0)},p(b,g){a=b},d(b){b&&o(l),b&&o(r),b&&o(u),T=!1,tt(j)}}}function $e(a){let l,e,s,r,u=a[5].title+"",_,y,T,j,b,g=a[5].createdAt.toDate().toLocaleString()+"",U,v,S,J,q,R=a[5].author+"",G,K,C,N=a[5].description+"",X,h,p,Z=a[6](a[5].createdBy),m=Z&&Qe(a);return{c(){l=n("div"),e=n("div"),s=n("div"),r=n("h3"),_=L(u),y=I(),T=n("div"),j=n("p"),b=n("strong"),U=L(g),v=I(),S=n("p"),J=L("Skrevet av "),q=n("strong"),G=L(R),K=I(),C=n("p"),X=L(N),h=I(),p=n("div"),m&&m.c(),this.h()},l(k){l=i(k,"DIV",{class:!0});var w=d(l);e=i(w,"DIV",{class:!0});var x=d(e);s=i(x,"DIV",{class:!0});var D=d(s);r=i(D,"H3",{});var ne=d(r);_=A(ne,u),ne.forEach(o),y=B(D),T=i(D,"DIV",{class:!0});var z=d(T);j=i(z,"P",{});var W=d(j);b=i(W,"STRONG",{});var ie=d(b);U=A(ie,g),ie.forEach(o),W.forEach(o),z.forEach(o),v=B(D),S=i(D,"P",{});var se=d(S);J=A(se,"Skrevet av "),q=i(se,"STRONG",{});var F=d(q);G=A(F,R),F.forEach(o),se.forEach(o),K=B(D),C=i(D,"P",{class:!0});var ce=d(C);X=A(ce,N),ce.forEach(o),D.forEach(o),h=B(x),p=i(x,"DIV",{class:!0});var le=d(p);m&&m.l(le),le.forEach(o),x.forEach(o),w.forEach(o),this.h()},h(){c(T,"class","dateContainer svelte-9t2krk"),c(C,"class","larger svelte-9t2krk"),c(s,"class","messageCardText svelte-9t2krk"),c(p,"class","messageCardButtons svelte-9t2krk"),c(e,"class","messageCardItem svelte-9t2krk"),c(l,"class","messageCard svelte-9t2krk")},m(k,w){Y(k,l,w),t(l,e),t(e,s),t(s,r),t(r,_),t(s,y),t(s,T),t(T,j),t(j,b),t(b,U),t(s,v),t(s,S),t(S,J),t(S,q),t(q,G),t(s,K),t(s,C),t(C,X),t(e,h),t(e,p),m&&m.m(p,null)},p(k,w){w&1&&u!==(u=k[5].title+"")&&ge(_,u),w&1&&g!==(g=k[5].createdAt.toDate().toLocaleString()+"")&&ge(U,g),w&1&&R!==(R=k[5].author+"")&&ge(G,R),w&1&&N!==(N=k[5].description+"")&&ge(X,N),w&1&&(Z=k[6](k[5].createdBy)),Z?m?m.p(k,w):(m=Qe(k),m.c(),m.m(p,null)):m&&(m.d(1),m=null)},d(k){k&&o(l),m&&m.d()}}}function xe(a){let l,e,s;return{c(){l=n("div"),e=n("p"),s=L(`Informasjonen du har skrevet inn stemmer ikke, vennligst prøv\r
                igjen.`),this.h()},l(r){l=i(r,"DIV",{class:!0});var u=d(l);e=i(u,"P",{});var _=d(e);s=A(_,`Informasjonen du har skrevet inn stemmer ikke, vennligst prøv\r
                igjen.`),_.forEach(o),u.forEach(o),this.h()},h(){c(l,"class","error svelte-9t2krk")},m(r,u){Y(r,l,u),t(l,e),t(e,s)},d(r){r&&o(l)}}}function Dt(a){let l;return{c(){l=L("Oppdater")},l(e){l=A(e,"Oppdater")},m(e,s){Y(e,l,s)},d(e){e&&o(l)}}}function It(a){let l;return{c(){l=L("Lagre")},l(e){l=A(e,"Lagre")},m(e,s){Y(e,l,s)},d(e){e&&o(l)}}}function et(a){let l,e,s,r;return{c(){l=n("button"),e=L("Avbryt"),this.h()},l(u){l=i(u,"BUTTON",{class:!0});var _=d(l);e=A(_,"Avbryt"),_.forEach(o),this.h()},h(){c(l,"class","cancelButton svelte-9t2krk")},m(u,_){Y(u,l,_),t(l,e),s||(r=te(l,"click",a[10]),s=!0)},p:vt,d(u){u&&o(l),s=!1,r()}}}function Bt(a){let l,e,s=a[4]&&Ke(a);return{c(){s&&s.c(),l=qe()},l(r){s&&s.l(r),l=qe()},m(r,u){s&&s.m(r,u),Y(r,l,u),e=!0},p(r,[u]){r[4]?s?(s.p(r,u),u&16&&ye(s,1)):(s=Ke(r),s.c(),ye(s,1),s.m(l.parentNode,l)):s&&(pt(),Le(s,1,1,()=>{s=null}),at())},i(r){e||(ye(s),e=!0)},o(r){Le(s),e=!1},d(r){s&&s.d(r),r&&o(l)}}}function St(){document.getElementById("mainForm").scrollIntoView({behavior:"smooth"})}function wt(a,l,e){let s;ot(a,gt,h=>e(4,s=h));let r={title:"",description:"",author:""},u=[],_,y=!1,T="",j=!1;nt(async()=>{const h=new Date,p=new Date,Z=new Date;p.setDate(h.getDate()-7),Z.setDate(h.getDate()+7);const m=_t(Ze(Ee,"messages"),Xe("createdAt",">=",Se.fromDate(p)),Xe("createdAt","<=",Se.fromDate(Z)),mt("createdAt","asc"));try{const k=await kt(m);e(0,u=k.docs.map(w=>({id:w.id,...w.data()})))}catch(k){console.log(k)}});const b=async()=>{const h=We.currentUser;try{await Et(Ze(Ee,"messages"),{...r,createdAt:Se.now(),createdBy:h.uid}),we({text:"New message created"}).showToast(),location.reload()}catch(p){console.log(p),e(3,j=!0)}};function g(h){const p=We.currentUser;return p&&h===p.uid}const U=h=>{T=h.id,e(5,r.title=h.title,r),e(5,r.description=h.description,r),e(5,r.author=h.author,r),e(2,y=!0),document.getElementById("mainForm").scrollIntoView({behavior:"smooth"})},v=async h=>{try{await bt(Ye(Ee,"messages",h)),we({text:"Message deleted"}).showToast(),location.reload()}catch(p){console.log(p)}},S=async()=>{try{await yt(Ye(Ee,"messages",T),r),we({text:"Message updated"}).showToast(),location.reload()}catch(h){console.log(h),e(3,j=!0)}},J=()=>{y?(S(),e(2,y=!1),T=""):b(),e(5,r={title:"",description:"",author:""}),_.focus()},q=()=>{e(2,y=!1),T="",e(5,r={title:"",description:"",author:""})},R=()=>{St()};function G(){r.title=this.value,e(5,r)}function K(h){ze[h?"unshift":"push"](()=>{_=h,e(1,_)})}function C(){r.description=this.value,e(5,r)}function N(){r.author=this.value,e(5,r)}function X(h){ze[h?"unshift":"push"](()=>{_=h,e(1,_)})}return[u,_,y,j,s,r,g,U,v,J,q,R,G,K,C,N,X]}class jt extends st{constructor(l){super(),lt(this,l,wt,Bt,rt,{})}}export{jt as default};
